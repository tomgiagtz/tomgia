<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" 
  
>
  <!-- The Head -->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  >

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="Reynolds’ Boids with C# and Unity" />
<meta property="og:locale" content="en" />
<meta name="description" content="GitHub" />
<meta property="og:description" content="GitHub" />
<link rel="canonical" href="https://tomgiagtz.github.io//posts/reynolds'-boids-with-c-and-unity/" />
<meta property="og:url" content="https://tomgiagtz.github.io//posts/reynolds'-boids-with-c-and-unity/" />
<meta property="og:site_name" content="Tom Giagtzoglou" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-08-01T00:00:00-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Reynolds’ Boids with C# and Unity" />
<meta name="twitter:site" content="@tee_o_emm" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-08-01T00:00:00-04:00","datePublished":"2023-08-01T00:00:00-04:00","description":"GitHub","headline":"Reynolds’ Boids with C# and Unity","mainEntityOfPage":{"@type":"WebPage","@id":"https://tomgiagtz.github.io//posts/reynolds'-boids-with-c-and-unity/"},"url":"https://tomgiagtz.github.io//posts/reynolds'-boids-with-c-and-unity/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>Reynolds' Boids with C# and Unity | Tom Giagtzoglou
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Tom Giagtzoglou">
<meta name="application-name" content="Tom Giagtzoglou">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle">
      
        
        <img src="/assets/img/avatar.png" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
      
    </a>

    <div class="site-title">
      <a href="/">Tom Giagtzoglou</a>
    </div>
    <div class="site-subtitle fst-italic">Creative Engineer</div>
  </div>
  <!-- .profile-wrapper -->

  <ul class="nav flex-column flex-grow-1 w-100 ps-0">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
      <li class="nav-item">
        <a href="/resume/" class="nav-link">
          <i class="fa-fw fas fa-file"></i>
          

          <span>RESUME</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/codesamples/" class="nav-link">
          <i class="fa-fw fas fa-code"></i>
          

          <span>CODE SAMPLES</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/portfolio/" class="nav-link">
          <i class="fa-fw fas fa-paintbrush"></i>
          

          <span>PORTFOLIO</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/categories/" class="nav-link">
          <i class="fa-fw fas fa-stream"></i>
          

          <span>CATEGORIES</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/tags/" class="nav-link">
          <i class="fa-fw fas fa-tags"></i>
          

          <span>TAGS</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/archives/" class="nav-link">
          <i class="fa-fw fas fa-archive"></i>
          

          <span>ARCHIVES</span>
        </a>
      </li>
      <!-- .nav-item -->
    
  </ul>
  <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      
        

        
          <a
            href="https://github.com/tomgiagtz"
            aria-label="github"
            

            
              target="_blank"
              
            

            

            
              rel="noopener noreferrer"
            
          >
            <i class="fab fa-github"></i>
          </a>
        
      
    
      
        

        
          <a
            href="https://linkedin.com/in/tomgia"
            aria-label="linkedin"
            

            
              target="_blank"
              
            

            

            
              rel="noopener noreferrer"
            
          >
            <i class="fab fa-linkedin"></i>
          </a>
        
      
    
      
        

        
      
    
      
        

        
          <a
            href="https://www.artstation.com/tomgia"
            aria-label="artstation"
            

            
              target="_blank"
              
            

            

            
              rel="noopener noreferrer"
            
          >
            <i class="fab fa-artstation"></i>
          </a>
        
      
    
      
    
      
        

        
          <a
            href="javascript:location.href = 'mailto:' + ['contact','tomgia.com'].join('@')"
            aria-label="email"
            

            

            

            
          >
            <i class="fas fa-envelope"></i>
          </a>
        
      
    
  </div>
  <!-- .sidebar-bottom -->
</div>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div id="main" class="container px-xxl-5">
        <!-- The Top Bar -->

<div id="topbar-wrapper">
  <div
    id="topbar"
    class="container d-flex align-items-center justify-content-between h-100"
  >
    <span id="breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                Home
              </a>
            </span>

          
        
          
        
          
            
              <span>Reynolds' Boids with C# and Unity</span>
            

          
        
      
    </span>
    <!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </span>
    <span id="search-cancel">Cancel</span>
  </div>
</div>

        











<div class="row">
  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4">
    

    <div class="post px-1 px-md-2">
      

      
        
      
        <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->


<!-- images -->



  
  

  <!-- CDN URL -->
  

  <!-- Add image path -->
  

  
    
      
      
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  

  



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  

  
  

  




<!-- return -->




<h1 data-toc-skip>Reynolds' Boids with C# and Unity</h1>

<div class="post-meta text-muted">
    <!-- published date -->
    <span>
      Posted
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class=""
  data-ts="1690862400"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Aug  1, 2023
</em>

    </span>

    <!-- lastmod date -->
    

  

  <div class="d-flex justify-content-between">
    <!-- author(s) -->
    <span>
      

      By

      <em>
      
        <a href="https://github.com/tomgiagtz">Tom Giagtzoglou</a>
      
      </em>
    </span>

    <div>
      <!-- read time -->
      <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="1954 words"
>
  <em>10 min</em> read</span>

    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <p><a href="https://github.com/tomgiagtz/BoidsExplore/tree/presentation-version"><strong>GitHub</strong></a></p>

<p><a href="/assets/notion/fbf43354-c5aa-463a-8d41-8ea40ecf2504/69cb3596-81fc-48c9-bd7b-3c7b6396446f.png" class="popup img-link 50"><img data-src="/assets/notion/fbf43354-c5aa-463a-8d41-8ea40ecf2504/69cb3596-81fc-48c9-bd7b-3c7b6396446f.png" alt="" width="800"  class="lazyload" data-proofer-ignore></a></p>

<p>In 1986, Craig Reynolds <a href="https://www.red3d.com/cwr/boids/">created a model</a> to describe the motion of flocks. These flocks recreated the motion of animals that move in groups, such as fish or birds, and he called these simulated animals boids. With three simple rules, this model creates very naturalistic motion. What follows is a summary of my implementation of this model, using C# and Unity.</p>

<h2 id="three-simple-rules"><span class="me-2">Three Simple Rules</span><a href="#three-simple-rules" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Our base representation of our boids without any behavior will be them just moving in some initial direction with some initial speed. The boid would move along this velocity vector infinitely, never changing direction. With Reynolds’ three simple rules, we can add behavior to this motion, and life to the boids. The three rules are as follows</p>

<ol>
  <li>
    <p><strong>Separation</strong></p>

    <p>Steering away from neighboring boids that are too close.</p>
  </li>
  <li>
    <p><strong>Alignment</strong></p>

    <p>Steering towards the average of the velocities of all neighboring boids.</p>
  </li>
  <li>
    <p><strong>Cohesion</strong></p>

    <p>Steering towards the center of mass of all neighboring boids.</p>
  </li>
</ol>

<p>With these rules, we can start with the implementation.</p>

<h2 id="unity-setup-and-the-first-problem-to-solve"><span class="me-2">Unity Setup and the First Problem to Solve</span><a href="#unity-setup-and-the-first-problem-to-solve" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>I started by jumping in Unity, getting my scene setup, and creating a <a href="https://github.com/tomgiagtz/BoidsExplore/blob/main/Assets/Scripts/BoidController.cs"><code class="language-plaintext highlighter-rouge">BoidController</code></a> class that sets its initial velocity to some random unit vector. I’m going to assume this is a baseline thing for anyone reading this, if you need help getting this far, there are plenty of Unity tutorials on YouTube. Otherwise, if you’ve set up a character controller before, this will follow in the same vein.</p>

<p>Also created a <a href="https://github.com/tomgiagtz/BoidsExplore/blob/main/Assets/Scripts/FlockController.cs"><code class="language-plaintext highlighter-rouge">FlockController</code></a> class, which is responsible for creating the boids when you hit play. I used a List of GameObjects to store references to these boids, which we’ll need so we can find a list of our neighbors.</p>

<div class="language-c# highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="k">void</span> <span class="nf">Start</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">settings</span><span class="p">.</span><span class="n">numBoids</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
            <span class="n">BoidController</span> <span class="n">boid</span> <span class="p">=</span> <span class="nf">Instantiate</span><span class="p">(</span><span class="n">settings</span><span class="p">.</span><span class="n">boidPrefab</span><span class="p">).</span><span class="n">GetComponent</span><span class="p">&lt;</span><span class="n">BoidController</span><span class="p">&gt;();</span>
            <span class="n">boid</span><span class="p">.</span><span class="nf">Initialize</span><span class="p">(</span><span class="n">settings</span><span class="p">);</span>
            <span class="n">boids</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">boid</span><span class="p">);</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>You’ll note I’m using some settings objects to get all of these parameters. This is a ScriptableObject I created called <a href="https://github.com/tomgiagtz/BoidsExplore/blob/main/Assets/Scripts/BoidSettings.cs"><code class="language-plaintext highlighter-rouge">BoidsSettings</code></a>, which is designed to represent all of our parameters for the boids and flock.</p>

<p>Our first problem here is that the boids just move along their initial velocity vector, so the first problem was to contain the boids in some volume, or create some bounds for our simulation. For this, we need a minimum range for the boids, which will let us know how close the boids are allowed to get to the edge, and a max range, which will create a sphere centered on the origin, which represents our bounds for the simulation. Here’s my commented code for this:</p>

<div class="language-c# highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="n">Vector3</span> <span class="nf">EdgeAvoidance</span><span class="p">()</span> <span class="p">{</span>

        <span class="c1">//if the boid is inside the spawn radius, but within it's avoidance distance</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">.</span><span class="n">magnitude</span> <span class="p">&gt;</span> <span class="n">settings</span><span class="p">.</span><span class="n">maxRadius</span> <span class="p">-</span> <span class="n">settings</span><span class="p">.</span><span class="n">avoidanceRadius</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">//get the distance from the boid to the edge of the spawn radius</span>
            <span class="kt">float</span> <span class="n">distance</span> <span class="p">=</span> <span class="n">settings</span><span class="p">.</span><span class="n">maxRadius</span> <span class="p">-</span> <span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">.</span><span class="n">magnitude</span><span class="p">;</span>

            <span class="c1">//set the strength to the inverse square of the distance</span>
            <span class="kt">float</span> <span class="n">strength</span> <span class="p">=</span> <span class="m">1</span> <span class="p">/</span> <span class="p">(</span><span class="n">distance</span> <span class="p">*</span> <span class="n">distance</span><span class="p">);</span>

            <span class="c1">//invert the direction</span>
            <span class="n">Vector3</span> <span class="n">avoidanceDir</span> <span class="p">=</span> <span class="p">-</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">.</span><span class="n">normalized</span><span class="p">;</span>

            <span class="c1">//return multiplied with our strength</span>
            <span class="k">return</span> <span class="n">avoidanceDir</span> <span class="p">*</span> <span class="n">settings</span><span class="p">.</span><span class="n">avoidanceWeight</span> <span class="p">*</span> <span class="n">strength</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<h2 id="how-do-boids-see-their-neighbors"><span class="me-2">How do boids “see” their neighbors?</span><a href="#how-do-boids-see-their-neighbors" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>This is our first truly complex problem to solve, but it’s also probably the toughest step in this implementation. Don’t worry, it only gets easier afterward! The first thing to set up here is a new setting for the sight radius of our boids, I called it <code class="language-plaintext highlighter-rouge">perceptionRadius</code> . Each boid should be aware of all the other boids within this radius, these are their neighbors.</p>

<h3 id="brute-force"><span class="me-2">Brute Force</span><a href="#brute-force" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><a href="/assets/notion/fbf43354-c5aa-463a-8d41-8ea40ecf2504/d4cd1fd3-008f-4341-a450-cb1b544d3ea6.png" class="popup img-link 50"><img data-src="/assets/notion/fbf43354-c5aa-463a-8d41-8ea40ecf2504/d4cd1fd3-008f-4341-a450-cb1b544d3ea6.png" alt="1200 boids, each checking every other boid" width="800"  class="lazyload" data-proofer-ignore></a>
<em>1200 boids, each checking every other boid</em></p>

<p>We need to find every boid within that perception radius, and the brute force method would be to loop through all the boids, checking each distance and storing the boids with a distance less than <code class="language-plaintext highlighter-rouge">perceptionRadius.</code>  The problem with this is every boid is checking every other boid on every frame. This is a computing nightmare, so we must find a better solution. There are better options than what I did, such as using an octree or spatial hash. With the implementations, the boids don’t have to search the entire simulation, as they generally map locations to groups, which is far more efficient</p>

<p>If I had known that <a href="https://docs.unity3d.com/ScriptReference/Physics.html">Unity’s Physics</a> library makes use of these methods under the hood, then I would have used them instead. I mistakenly assumed that it would require a RigidBody on each boid, which would not scale well. If I continue to work on this project, I would go back and use those instead. The implementation would change, but the efficiency boost would be notable, allowing for 5000+ boids, instead of my solution, which starts to chug at around 2500 boids.</p>

<h3 id="brute-force-light"><span class="me-2">Brute Force Light</span><a href="#brute-force-light" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Because I was over-assuming the inefficiencies of the built-in physics library, I tried to find some middle ground. The first thing I did was limit how many neighbors each boid could have with a parameter, <code class="language-plaintext highlighter-rouge">maxNeighbors</code>. Instead of trying to find <em>every</em> boid within the perception radius, we only try to find boids until we hit that max, and then stop looking.</p>

<div class="language-c# highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="n">BoidController</span><span class="p">[]</span> <span class="nf">BruteForceLight</span><span class="p">(</span><span class="n">BoidController</span> <span class="n">boid</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//create a new array of neighbors</span>
        <span class="n">BoidController</span><span class="p">[]</span> <span class="n">nearbyBoids</span> <span class="p">=</span> <span class="k">new</span> <span class="n">BoidController</span><span class="p">[</span><span class="n">settings</span><span class="p">.</span><span class="n">maxNeighbors</span><span class="p">];</span>
        <span class="kt">int</span> <span class="n">count</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="c1">//get a random int between 0 and the number of boids as our offset</span>
        <span class="kt">int</span> <span class="n">offset</span> <span class="p">=</span> <span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">boids</span><span class="p">.</span><span class="n">Count</span><span class="p">);</span>
        <span class="c1">//loop through all the boids</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">boids</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
            

            <span class="c1">//if inside the radius, add to the list and increment count</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">Vector3</span><span class="p">.</span><span class="nf">Distance</span><span class="p">(</span><span class="n">boid</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">,</span> <span class="n">other</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">)</span> <span class="p">&lt;</span> <span class="n">settings</span><span class="p">.</span><span class="n">maxRadius</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">nearbyBoids</span><span class="p">[</span><span class="n">count</span><span class="p">]</span> <span class="p">=</span> <span class="n">other</span><span class="p">;</span>
                <span class="n">count</span><span class="p">++;</span>
            <span class="p">}</span>
            <span class="c1">//if num neightbors == maxNieghbors, stop searching</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">count</span> <span class="p">&gt;=</span> <span class="n">settings</span><span class="p">.</span><span class="n">maxNeighbors</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="c1">//return list of boids</span>
        <span class="k">return</span> <span class="n">nearbyBoids</span><span class="p">;</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Now that we can find our neighbors, we have everything we need to start on the three rules, I started with Separation.</p>

<h2 id="separation"><span class="me-2">Separation</span><a href="#separation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>All we need to do here is loop through our neighbors, check if the distance to that neighbor is less than our <code class="language-plaintext highlighter-rouge">avoidanceRadius</code> (the same value we used for <code class="language-plaintext highlighter-rouge">EdgeAvoidance</code>). If the neighbor is inside that radius, we use the inverse square law to determine our strength and move in the opposite direction of that neighbor. This result is added up and averaged for all our neighbors.</p>

<p>All we need to do here is loop through our neighbors, check if the distance to that neighbor is less than our <code class="language-plaintext highlighter-rouge">avoidanceRadius</code> (the same value we used for <code class="language-plaintext highlighter-rouge">EdgeAvoidance</code>). If the neighbor is inside that radius, we use the inverse square law to determine our strength and move in the opposite direction of that neighbor. This result is added up and averaged for all our neighbors.</p>

<div class="language-c# highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre></td><td class="rouge-code"><pre><span class="n">Vector3</span> <span class="nf">Separation</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">//our result vector, initialized to 0,0,0</span>
        <span class="n">Vector3</span> <span class="n">separationDir</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>
        <span class="c1">//for each neighbor</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="n">BoidController</span> <span class="n">neighbor</span> <span class="k">in</span> <span class="n">neighbors</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">neighbor</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
                <span class="c1">//vector between the neighbor and this boid</span>
                <span class="n">Vector3</span> <span class="n">toNeighbor</span> <span class="p">=</span> <span class="n">transform</span><span class="p">.</span><span class="n">position</span> <span class="p">-</span> <span class="n">neighbor</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">;</span>
                <span class="c1">//magnitude is the distance between the two</span>
                <span class="kt">float</span> <span class="n">distance</span> <span class="p">=</span> <span class="n">toNeighbor</span><span class="p">.</span><span class="n">magnitude</span><span class="p">;</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">distance</span> <span class="p">&lt;</span> <span class="n">settings</span><span class="p">.</span><span class="n">avoidanceRadius</span><span class="p">)</span> <span class="p">{</span>
                    <span class="c1">//use inverse square law to determine strength</span>
                    <span class="n">separationDir</span> <span class="p">+=</span> <span class="n">toNeighbor</span><span class="p">.</span><span class="n">normalized</span> <span class="p">*</span> <span class="m">1</span> <span class="p">/</span> <span class="n">distance</span> <span class="p">*</span> <span class="n">distance</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="c1">//still gets scaled linearally by the weight</span>
        <span class="k">return</span> <span class="n">separationDir</span><span class="p">.</span><span class="n">normalized</span> <span class="p">*</span> <span class="n">settings</span><span class="p">.</span><span class="n">separationWeight</span><span class="p">;</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>This looks quite similar to our <code class="language-plaintext highlighter-rouge">EdgeAvoidance</code> function, and that’s because it is! The only difference is we’re checking against our distance to boids, instead of the distance to our bounds.</p>

<h3 id="an-issue-crops-up"><span class="me-2">An Issue Crops Up</span><a href="#an-issue-crops-up" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>After implementing this, I noticed this was creating some clumping among the boids. The boids weren’t really separating. I realized this was an issue with how we find neighbors. Since the list of all boids is static, each boid is finding the same neighbors over and over. To solve this, I added a (controllable) random offset to our <code class="language-plaintext highlighter-rouge">BruteForceLight</code> function.</p>

<div class="language-c# highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="rouge-code"><pre><span class="k">public</span> <span class="n">BoidController</span><span class="p">[]</span> <span class="nf">BruteForceLight</span><span class="p">(</span><span class="n">BoidController</span> <span class="n">boid</span><span class="p">)</span> <span class="p">{</span>
        <span class="p">...</span>
        <span class="kt">int</span> <span class="n">offset</span> <span class="p">=</span> <span class="n">Random</span><span class="p">.</span><span class="nf">Range</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="n">boids</span><span class="p">.</span><span class="n">Count</span><span class="p">);</span>
        <span class="c1">//loop through all the boids</span>
        <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">boids</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span> <span class="n">i</span><span class="p">++)</span> <span class="p">{</span>
            <span class="c1">//randomly offset search based on randomNeighbor setting</span>
            <span class="kt">int</span> <span class="n">index</span> <span class="p">=</span>  <span class="n">settings</span><span class="p">.</span><span class="n">randomNeighbors</span> <span class="p">?</span> <span class="p">(</span><span class="n">i</span> <span class="p">+</span> <span class="n">offset</span><span class="p">)</span> <span class="p">%</span> <span class="n">boids</span><span class="p">.</span><span class="n">Count</span> <span class="p">:</span> <span class="n">i</span><span class="p">;</span>

            <span class="k">if</span> <span class="p">(</span><span class="n">settings</span><span class="p">.</span><span class="n">randomNeighbors</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">index</span> <span class="p">=</span> <span class="p">(</span><span class="n">i</span> <span class="p">+</span> <span class="n">offset</span><span class="p">)</span> <span class="p">%</span> <span class="n">boids</span><span class="p">.</span><span class="n">Count</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="c1">//get the boid out of the list</span>
            <span class="n">BoidController</span> <span class="n">other</span> <span class="p">=</span> <span class="n">boids</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
						<span class="p">...</span>
</pre></td></tr></tbody></table></code></div></div>

<p>As you can see in this video, this resolves the clumping issue.</p>

<iframe class="embed-video youtube lazyload" src="https://www.youtube.com/embed/ISwe7QGePwc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<h2 id="alignment--cohesion"><span class="me-2">Alignment + Cohesion</span><a href="#alignment--cohesion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Similar to cohesion, we have to start by looping through the list of neighbors. We add up all of the neighbor’s velocity vectors and then take the average. This average is our Alignment vector.</p>

<div class="language-c# highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="n">Vector3</span> <span class="nf">Alignment</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Vector3</span> <span class="n">alignmentDir</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>
        <span class="c1">//keeping track of how many neighbors regardless of max neighbors</span>
        <span class="kt">int</span> <span class="n">neighborCount</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>

        <span class="c1">// add all velocties of valid neighbors</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="n">BoidController</span> <span class="n">neighbor</span> <span class="k">in</span> <span class="n">neighbors</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">neighbor</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">alignmentDir</span> <span class="p">+=</span> <span class="n">neighbor</span><span class="p">.</span><span class="n">velocity</span><span class="p">;</span>
                <span class="n">neighborCount</span><span class="p">++;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="c1">//take average of all neighbors velocity</span>
        <span class="n">alignmentDir</span> <span class="p">/=</span> <span class="n">neighborCount</span><span class="p">;</span>
        <span class="c1">//scale by weight</span>
        <span class="k">return</span> <span class="n">alignmentDir</span><span class="p">.</span><span class="n">normalized</span> <span class="p">*</span> <span class="n">settings</span><span class="p">.</span><span class="n">alignmentWeight</span><span class="p">;</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>As we can see, we have all the parameters set up from <code class="language-plaintext highlighter-rouge">Separation</code>. I added in <code class="language-plaintext highlighter-rouge">alignmentWeight</code> so we can tweak the strength of this force in the editor.</p>

<p>Cohesion followed right after. This time we get the center of mass of our neighbors by adding all of their positions (not velocity) and averaging the result.</p>

<div class="language-c# highlighter-rouge"><div class="code-header">
        <span data-label-text="C#"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="n">Vector3</span> <span class="nf">Cohesion</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Vector3</span> <span class="n">centerOfMass</span> <span class="p">=</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">neighborCount</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>
        <span class="k">foreach</span> <span class="p">(</span><span class="n">BoidController</span> <span class="n">neighbor</span> <span class="k">in</span> <span class="n">neighbors</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">neighbor</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">centerOfMass</span> <span class="p">+=</span> <span class="n">neighbor</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">;</span>
                <span class="n">neighborCount</span><span class="p">++;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">neighborCount</span> <span class="p">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">centerOfMass</span> <span class="p">/=</span> <span class="n">neighborCount</span><span class="p">;</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">centerOfMass</span> <span class="p">-</span> <span class="n">transform</span><span class="p">.</span><span class="n">position</span><span class="p">).</span><span class="n">normalized</span> <span class="p">*</span> <span class="n">settings</span><span class="p">.</span><span class="n">cohesionWeight</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">Vector3</span><span class="p">.</span><span class="n">zero</span><span class="p">;</span>
    <span class="p">}</span>
</pre></td></tr></tbody></table></code></div></div>

<p>This also gets a <code class="language-plaintext highlighter-rouge">cohesionWeight</code> , controllable from the editor. After playing with each of the parameters, I was able to dial in this simulation of 2000 boids:</p>

<iframe class="embed-video youtube lazyload" src="https://www.youtube.com/embed/RRZxl3q-Lgg" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<hr />

<h1 id="conclusion">Conclusion</h1>

<p>For the <strong>future</strong> I’d love to make this something that is easily sharable, so anyone can go in and experience what control over a flock feels like. As I mentioned, I would also go back to improve the efficiency of finding neighbors. If given enough time, I would change over to using a Compute Shader wherever possible. Running this on the GPU would allow this simulation to reach a massive scale, with hundreds of thousands of boids flocking in real time.</p>

<p>There are also additional rules we can add to extend the Flocks behavior, including Predators, Leaders, and smaller flocks within the whole. You can learn more about them in the later sources below.</p>

<p>It’s really interesting to think about how such simple rules create an organic motion. I’m really happy with how this came out. I like to think of it as a parameter driven toy. I created all these parameters that I can change during runtime and watch as they take effect in the simulation. It’s really fun to see how each parameter affects the simulation, turning some off to see what happens. The nice thing about this is that it’s art directable,  a school of fish would behave quite differently than a flock of birds, but we have the ability to tweak everything to match that expected behavior.</p>

<h2 id="sources"><span class="me-2">Sources</span><a href="#sources" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Reynolds’ Website on Boids</p>

<p><a href="https://www.red3d.com/cwr/boids/">https://www.red3d.com/cwr/boids/</a></p>

<p>The Coding Train - Coding Challenge #124: Flocking Simulation</p>

<p><a href="https://www.youtube.com/watch?v=mhjuuHl6qHM">https://www.youtube.com/watch?v=mhjuuHl6qHM</a></p>

<p>Sebastian Lague - Coding Adventure: Boids</p>

<p><a href="https://www.youtube.com/watch?v=bqtqltqcQhw">https://www.youtube.com/watch?v=bqtqltqcQhw</a></p>

<p>Neat AI - Neat AI Does Predator Boids</p>

<p><a href="https://www.youtube.com/watch?v=rkQB4zEJggE">https://www.youtube.com/watch?v=rkQB4zEJggE</a></p>

<p>Harmen de Weerd- Boids: Flocking made simple</p>

<p><a href="https://www.harmendeweerd.nl/boids/">https://www.harmendeweerd.nl/boids/</a></p>


</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  
  <div class="post-meta mb-3">
    <i class="far fa-folder-open fa-fw me-1"></i>
    
      <a href='/categories/code-samples/'>Code Samples</a>
  </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw me-1"></i>
      
      <a href="/tags/unity/"
          class="post-tag no-text-decoration" >Unity</a>
      
      <a href="/tags/c/"
          class="post-tag no-text-decoration" >C#</a>
      
      <a href="/tags/ai/"
          class="post-tag no-text-decoration" >AI</a>
      
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.

      
    </div>

    <!-- Post sharing snippet -->

<div class="share-wrapper">
  <span class="share-label text-muted me-1">Share</span>
  <span class="share-icons">
    
    
    

    
      
      <a
        href="https://twitter.com/intent/tweet?text=Reynolds'%20Boids%20with%20C#%20and%20Unity%20-%20Tom%20Giagtzoglou&url=https%3A%2F%2Ftomgiagtz.github.io%2F%2Fposts%2Freynolds%27-boids-with-c-and-unity%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Twitter"
        target="_blank"
        rel="noopener"
        aria-label="Twitter"
      >
        <i class="fa-fw fab fa-twitter"></i>
      </a>
    
      
      <a
        href="https://www.facebook.com/sharer/sharer.php?title=Reynolds'%20Boids%20with%20C#%20and%20Unity%20-%20Tom%20Giagtzoglou&u=https%3A%2F%2Ftomgiagtz.github.io%2F%2Fposts%2Freynolds%27-boids-with-c-and-unity%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Facebook"
        target="_blank"
        rel="noopener"
        aria-label="Facebook"
      >
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    
      
      <a
        href="https://t.me/share/url?url=https%3A%2F%2Ftomgiagtz.github.io%2F%2Fposts%2Freynolds%27-boids-with-c-and-unity%2F&text=Reynolds'%20Boids%20with%20C#%20and%20Unity%20-%20Tom%20Giagtzoglou"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Telegram"
        target="_blank"
        rel="noopener"
        aria-label="Telegram"
      >
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <i
      id="copy-link"
      class="fa-fw fas fa-link small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
    </i>
  </span>
</div>


  </div><!-- .post-tail-bottom -->

</div><!-- div.post-tail-wrapper -->


      
    
      
    </div>
  </div>
  <!-- #core-wrapper -->

  <!-- panel -->
  <div id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
    <div class="access">
      
        <!-- Get the last 5 posts from lastmod list. -->















        <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C#</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/unity/">Unity</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ai/">AI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/gameplay/">Gameplay</a>
      
    </div>
  </div>


      
    </div>

    
      
      



  <div id="toc-wrapper" class="ps-0 pe-4 mb-5">
    <div class="panel-heading ps-3 pt-2 mb-2">Contents</div>
    <nav id="toc"></nav>
  </div>


    
  </div>
</div>

<!-- tail -->

  <div class="row">
    <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5">
      
        
        <!--
  Recommend the other 3 posts according to the tags and categories of the current post,
  if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->








  

  
    
  

  

  

  

  

  






<!-- Fill with the other newlest posts -->



  
    
    
  
    
    
      
      
    
  



  <div id="related-posts" class="mb-2 mb-sm-4">
    <h3 class="pt-2 mb-4 ms-1" data-toc-skip>
      Further Reading
    </h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        
        
        <div class="col">
          <a href="/posts/bean-bandits-player-generated-board-game/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1689739200"
  data-df="ll"
  
>
  Jul 19, 2023
</em>

              <h4 class="pt-0 my-2" data-toc-skip>Bean Bandits — Player Generated Board Game</h4>
              <div class="text-muted small">
                <p>
                  





                  

Betrayal at the House on the Hill inspired me to recreate a player generated dungeon for the party game, Bean Bandits and the Curse of Skol. In a Mario Party style ‘overworld’, players race throu...
                </p>
              </div>
            </div>
          </a>
        </div>
      
    </div>
    <!-- .card-deck -->
  </div>
  <!-- #related-posts -->


      
        
        <!-- Navigation buttons at the bottom of the post. -->

<div class="post-navigation d-flex justify-content-between">
  
    <a
      href="/posts/bean-bandits-player-generated-board-game/"
      class="btn btn-outline-primary"
      prompt="Older"
    >
      <p>Bean Bandits — Player Generated Board Game</p>
    </a>
  

  
    <div
      class="btn btn-outline-primary disabled"
      prompt="Newer"
    >
      <p>-</p>
    </div>
  
</div>

      
        
        <!--  The comments switcher -->


      
    </div>
  </div>


        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 post-content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
      
        
        

  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/c/">C#</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/unity/">Unity</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ai/">AI</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/gameplay/">Gameplay</a>
      
    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>
    </div>

    <!-- The Footer -->

<footer>
  <div class="container px-lg-4">
    <div class="d-flex justify-content-center align-items-center text-muted mx-md-3">
      <p>Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
      </p>

      <p>©
        2024
        <a href="https://github.com/tomgiagtz">Tom Giagtzoglou</a>.
        
          <span
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
          >Some rights reserved.</span>
        
      </p>
    </div>
  </div>
</footer>


    <div id="mask"></div>

    <button id="back-to-top" aria-label="back-to-top" class="btn btn-lg btn-box-shadow">
      <i class="fas fa-angle-up"></i>
    </button>

    
      <div
        id="notification"
        class="toast"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
        data-bs-animation="true"
        data-bs-autohide="false"
      >
        <div class="toast-header">
          <button
            type="button"
            class="btn-close ms-auto"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body text-center pt-0">
          <p class="px-2 mb-3">A new version of content is available.</p>
          <button type="button" class="btn btn-primary" aria-label="Update">
            Update
          </button>
        </div>
      </div>
    

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

